<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="apple-touch-fullscreen" content="YES">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Git 命令总结</title>
    <style>.git{background-color: grey;}
    .git1{background-color: aliceblue;margin-bottom: 100px;width: 100%;}
     .git_1{background-color: aliceblue}</style>
</head>
<body>
   <div class="git">
       <div>
           <strong class="git1">初始化本地git仓库（创建新仓库）：
               <p>git init</p>
           </strong>

           <strong class="git1">
               配置用户名：
               <p>git confing --global user.name "xxx"</p>
           </strong>

           <strong class="git1">
               配置邮件：
               <p>git config --global user.email "xxx@xxx.com"</p>
           </strong>

           <strong class="git1">
               git status 等命令自动着色：
               <p>git config --global color.ui true</p>
               <p>git config --global color.status auto</p>
               <p>git config --global color.diff auto</p>
               <p>git config --global color.branch auto</p>
               <p>git config --global color.interactive auto</p>
           </strong>

           <strong class="git1">
           clone 远程仓库：
           <p>git clone git+ssh://git@192.168.53.168/VT.git </p>
       </strong>

           <strong class="git1">
              查看当前版本状态（是否修改）：

               <p>git status</p>
           </strong>

           <strong class="git1">
              添加xyz文件至index：

               <p>git add xyz</p>
           </strong>

           <strong class="git1">
               增加当前子目录下所有更改过的文件至index

               <p>git add .</p>
           </strong>

           <strong class="git1">
               提交

               <p>git commit -m 'xxx'</p>
           </strong>

           <strong class="git1">
               合并上一次提交（用于反复修改)：

               <p>git commit --amend -m 'xxx'</p>
           </strong>

           <strong class="git1">
               将Add和commit合为一步;

               <p>git commit -am 'xxx'</p>

           </strong>

           <strong class="git1">
               删除index中的文件：

               <p>git rm xxx</p>
           </strong>

           <strong class="git1">
               递归删除：

               <p> git rm -r *</p>

           </strong>

           <strong class="git1">
               显示提交日志：

               <p>git log</p>
           </strong>

           <strong class="git1">

               显示1行日志-n为n行日志：

               <p>git log -1</p>
               <p>git log -n</p>
           </strong>

           <strong class="git1">
               显示提交日志及相关变动文件：
               <p>git log --stat</p>
               <p>git log -p -m</p>
           </strong>

           <strong class="git1">
               显示提交的详细内容;
               <p>git show dfb02e6e4f2f7b573337763e5c0013802e392818</p>
           </strong>

           <strong class="git1">
               可只用commitId的前几位：
               <p>git show dfb02</p>
           </strong>

           <strong class="git1">
              显示HEAD提交日志：
               <p>git show HEAD</p>
           </strong>

           <strong class="git1">
               显示HEAD的父（上一个版本）的提交日志 ^^为上两个版本 ^5为上5个版本:
               <p>git show HEAD^ </p>
           </strong>

           <strong class="git1">
               显示已存在的tag:
                <p>git tag </p>
           </strong>

           <strong class="git1">
               增加v2.0的tag:
               <p>git tag -a v2.0 -m 'xxx'</p>
           </strong>

           <strong class="git1">
               显示v2.0的日志及详细内容:
               <p>git show v2.0</p>
           </strong>

           <strong class="git1">
               显示v2.0的日志:
               <p>git log v2.0 </p>
           </strong>

           <strong class="git1">
               显示所有未添加至index的变更:
               <p>git diff</p>
           </strong>

           <strong class="git1">
               显示所有已添加index但还未commit的变更:
               <p>git diff --cached</p>
           </strong>

           <strong class="git1">
               比较与上一个版本的差异:
               <p>git diff HEAD^</p>
           </strong>

           <strong class="git1">
               比较与HEAD版本lib目录的差异:
               <p>git diff HEAD -- ./lib  </p>
           </strong>

           <strong class="git1">
               比较远程分支master上有本地分支master上没有的:
               <p>git diff origin/master..master </p>
           </strong>

           <strong class="git1">
               只显示差异的文件，不显示具体内容:
               <p>git diff origin/master..master --stat  </p>
           </strong>

           <strong class="git1">
               增加远程定义（用于push/pull/fetch）:
               <p>git remote add origin git+ssh://git@192.168.53.168/VT.git </p>
           </strong>

           <strong class="git1">
               显示本地分支:
               <p>git branch</p>
           </strong>

           <strong class="git1">
               显示包含提交50089的分支:
               <p>git branch --contains 50089  </p>
           </strong>

           <strong class="git1">
               显示所有分支:
               <p>git branch -a </p>
           </strong>

           <strong class="git1">
               显示所有原创分支:
               <p>git branch -r </p>
           </strong>

           <strong class="git1">
               显示所有已合并到当前分支的分支:
               <p>git branch --merged </p>
           </strong>

           <strong class="git1">
               显示所有未合并到当前分支的分支:
               <p>git branch --no-merged</p>
           </strong>

           <strong class="git1">
               本地分支改名:
               <p>git branch -m master master_copy</p>
           </strong>

           <strong class="git1">
               从当前分支创建新分支master_copy并检出:
               <p>git checkout -b master_copy  </p>
           </strong>

           <strong class="git1">
               上面的完整版:
               <p>git checkout -b master master_copy  </p>
           </strong>

           <strong class="git1">
               检出已存在的features/performance分支:
               <p>git checkout features/performance </p>
           </strong>

           <strong class="git1">
               检出远程分支hotfixes/BJVEP933并创建本地跟踪分支:
               <p>git checkout --track hotfixes/BJVEP933  </p>
           </strong>

           <strong class="git1">
               检出版本v2.0:
               <p>git checkout v2.0 </p>
           </strong>

           <strong class="git1">
               从远程分支develop创建新本地分支devel并检出:
               <p>git checkout -b devel origin/develop </p>
           </strong>

           <strong class="git1">
               检出head版本的README文件（可用于修改错误回退）:
               <p>git checkout -- README </p>
           </strong>

           <strong class="git1">
               合并远程master分支至当前分支:
               <p>git merge origin/master</p>
           </strong>

           <strong class="git1">
               合并提交ff44785404a8e的修改:
               <p>git cherry-pick ff44785404a8e</p>
           </strong>

           <strong class="git1">
               将当前分支push到远程master分支:
               <p>git push origin master </p>
           </strong>

           <strong class="git1">
               删除远程仓库的hotfixes/BJVEP933分支:
               <p>git push origin :hotfixes/BJVEP933 </p>
           </strong>

           <strong class="git1">
               把所有tag推送到远程仓库:
               <p>git push --tags </p>
           </strong>

           <strong class="git1">
               获取所有远程分支（不更新本地分支，另需merge）:
               <p>git fetch </p>
           </strong>

           <strong class="git1">
               获取所有原创分支并清除服务器上已删掉的分支:
               <p>git fetch --prune </p>
           </strong>

           <strong class="git1">
               获取远程分支master并merge到当前分支:
               <p>git pull origin master</p>
           </strong>

           <strong class="git1">
               重命名文件README为README2:
               <p>git mv README README2</p>
           </strong>

           <strong class="git1">
               将当前版本重置为HEAD（通常用于merge失败回退）:
               <p>git reset --hard HEAD   </p>
               <p>git rebase</p>
           </strong>

           <strong class="git1">
               删除分支hotfixes/BJVEP933（本分支修改已合并到其他分支）:
               <p>git branch -d hotfixes/BJVEP933</p>
           </strong>

           <strong class="git1">
               强制删除分支hotfixes/BJVEP933:
               <p>git branch -D hotfixes/BJVEP933</p>
           </strong>

           <strong class="git1">
               列出git index包含的文件:
               <p>git ls-files</p>
           </strong>

           <strong class="git1">
               图示当前分支历史:
               <p>git show-branch</p>
           </strong>

           <strong class="git1">
               图示所有分支历史:
               <p>git show-branch --all</p>
           </strong>

           <strong class="git1">
               显示提交历史对应的文件修改:
               <p>git whatchanged </p>
           </strong>

           <strong class="git1">
               撤销提交dfb02e6e4f2f7b573337763e5c0013802e392818:
               <p>git revert dfb02e6e4f2f7b573337763e5c0013802e392818 </p>
           </strong>

           <strong class="git1">
               内部命令：显示某个git对象:
               <p>git ls-tree HEAD</p>
           </strong>

           <strong class="git1">
               内部命令：显示某个ref对于的SHA1 HASH:
               <p>git rev-parse v2.0 </p>
           </strong>

           <strong class="git1">
               显示所有提交，包括孤立节点:
               <p>git reflog  </p>
               <p>git show HEAD@{5}</p>
           </strong>

           <strong class="git1">
               显示master分支昨天的状态:
               <p>git show master@{yesterday}</p>
           </strong>

           <strong class="git1">
               图示提交日志:
               <p>git log --pretty=format:'%h %s' --graph </p>
               <p>git show HEAD~3</p>
               <p>git show -s --pretty=raw 2be7fcb476</p>
           </strong>

           <strong class="git1">
               暂存当前修改，将所有至为HEAD状态:
               <p>git stash </p>
           </strong>

           <strong class="git1">
               查看所有暂存:
               <p>git stash list </p>
           </strong>

           <strong class="git1">
               参考第一次暂存:
               <p>git stash show -p stash@{0} </p>
           </strong>

           <strong class="git1">
               应用第一次暂存:
               <p>git stash apply stash@{0} </p>
           </strong>

           <strong class="git1">
               文件中搜索文本“delete from”:
               <p>git grep "delete from" </p>
               <p>git grep -e '#define' --and -e SORT_DIRENT</p>
               <p>git gc</p>
               <p>git fsck</p>
           </strong>
       </div>
   </div>
   <div class="git_1">
        <p>一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住60～100个命令。</p>
        <p>下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。</p>
        <p>Workspace：工作区</p>
        <p>Index / Stage：暂存区</p>
        <p>Repository：仓库区（或本地仓库）</p>
        <p>Remote：远程仓库</p>
       <strong>一、新建代码库</strong>
       <p># 在当前目录新建一个Git代码库
           $ git init</p>
       <p># 新建一个目录，将其初始化为Git代码库
           $ git init [project-name]</p>
       <p># 下载一个项目和它的整个代码历史
           $ git clone [url]</p>
       <strong>二、配置</strong>
       <p>Git的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。</p>
       <p># 显示当前的Git配置
           $ git config --list</p>
       <p># 编辑Git配置文件
           $ git config -e [--global]</p>
       <p># 设置提交代码时的用户信息
           $ git config [--global] user.name "[name]"
           $ git config [--global] user.email "[email address]"</p>
       <strong>三、增加/删除文件</strong>
       <p># 添加指定文件到暂存区
           $ git add [file1] [file2] ...</p>
       <p># 添加指定目录到暂存区，包括子目录
           $ git add [dir]</p>
       <p># 添加当前目录的所有文件到暂存区
           $ git add .</p>
       <p># 添加每个变化前，都会要求确认
           # 对于同一个文件的多处变化，可以实现分次提交
           $ git add -p</p>
       <p># 删除工作区文件，并且将这次删除放入暂存区
           $ git rm [file1] [file2] ...</p>
       <p># 停止追踪指定文件，但该文件会保留在工作区
           $ git rm --cached [file]</p>
       <p># 改名文件，并且将这个改名放入暂存区
           $ git mv [file-original] [file-renamed]</p>
       <strong>四、代码提交</strong>
       <p># 提交暂存区到仓库区
           $ git commit -m [message]</p>
       <p># 提交暂存区的指定文件到仓库区
           $ git commit [file1] [file2] ... -m [message]</p>
       <p># 提交工作区自上次commit之后的变化，直接到仓库区
           $ git commit -a</p>
       <p># 提交时显示所有diff信息
           $ git commit -v</p>
       <p># 使用一次新的commit，替代上一次提交
           # 如果代码没有任何新变化，则用来改写上一次commit的提交信息
           $ git commit --amend -m [message]</p>
       <p># 重做上一次commit，并包括指定文件的新变化
           $ git commit --amend [file1] [file2] ..</p>
       <strong>五、分支</strong>
       <p># 列出所有本地分支
           $ git branch</p>
       <p># 列出所有远程分支
           $ git branch -r</p>
       <p># 列出所有本地分支和远程分支
           $ git branch -a</p>
       <p># 新建一个分支，但依然停留在当前分支
           $ git branch [branch-name]</p>
       <p># 新建一个分支，并切换到该分支
           $ git checkout -b [branch]</p>
       <p># 新建一个分支，指向指定commit
           $ git branch [branch] [commit]</p>
       <p># 新建一个分支，与指定的远程分支建立追踪关系
           $ git branch --track [branch] [remote-branch]</p>
       <p># 切换到指定分支，并更新工作区
           $ git checkout [branch-name]</p>
       <p># 切换到上一个分支
           $ git checkout -</p>
       <p># 建立追踪关系，在现有分支与指定的远程分支之间
           $ git branch --set-upstream [branch] [remote-branch]</p>
       <p># 合并指定分支到当前分支
           $ git merge [branch]</p>
       <p># 选择一个commit，合并进当前分支
           $ git cherry-pick [commit]</p>
       <p># 删除分支
           $ git branch -d [branch-name]</p>
       <p># 删除远程分支
           $ git push origin --delete [branch-name]
           $ git branch -dr [remote/branch]</p>

       <atrong>六、标签</atrong>
       <p># 列出所有tag
           $ git tag</p>
       <p># 新建一个tag在当前commit
           $ git tag [tag]</p>
       <p># 新建一个tag在指定commit
           $ git tag [tag] [commit]</p>
       <p># 删除本地tag
           $ git tag -d [tag]</p>
       <p># 删除远程tag
           $ git push origin :refs/tags/[tagName]</p>
       <p># 查看tag信息
           $ git show [tag]</p>
       <p># 提交指定tag
           $ git push [remote] [tag]</p>
       <p># 提交所有tag
           $ git push [remote] --tags</p>
       <p># 新建一个分支，指向某个tag
           $ git checkout -b [branch] [tag]
       </p>
       <strong>七、查看信息</strong>
       <p># 显示有变更的文件
           $ git status</p>
       <p># 显示当前分支的版本历史
           $ git log</p>
       <p># 显示commit历史，以及每次commit发生变更的文件
           $ git log --stat</p>
       <p># 搜索提交历史，根据关键词
           $ git log -S [keyword]</p>
       <p># 显示某个commit之后的所有变动，每个commit占据一行
           $ git log [tag] HEAD --pretty=format:%s</p>
       <P># 显示某个commit之后的所有变动，其"提交说明"必须符合搜索条件
           $ git log [tag] HEAD --grep feature</P>
       <P># 显示某个文件的版本历史，包括文件改名
           $ git log --follow [file]
           $ git whatchanged [file]</P>
       <P># 显示指定文件相关的每一次diff
           $ git log -p [file]</P>
       <P># 显示过去5次提交
           $ git log -5 --pretty --oneline</P>
       <P># 显示所有提交过的用户，按提交次数排序
           $ git shortlog -sn</P>
       <P># 显示指定文件是什么人在什么时间修改过
           $ git blame [file]</P>
       <P># 显示暂存区和工作区的差异
           $ git diff</P>
       <P># 显示暂存区和上一个commit的差异
           $ git diff --cached [file]</P>
       <P># 显示工作区与当前分支最新commit之间的差异
           $ git diff HEAD</P>
       <P># 显示两次提交之间的差异
           $ git diff [first-branch]...[second-branch]</P>
       <P># 显示今天你写了多少行代码
           $ git diff --shortstat "@{0 day ago}"</P>
       <P># 显示某次提交的元数据和内容变化
           $ git show [commit]</P>
       <P># 显示某次提交发生变化的文件
           $ git show --name-only [commit]</P>
       <P># 显示某次提交时，某个文件的内容
           $ git show [commit]:[filename]</P>
       <P># 显示当前分支的最近几次提交
           $ git reflog</P>

       <ATRONG>八、远程同步</ATRONG>
        <P># 下载远程仓库的所有变动
            $ git fetch [remote]</P>
       <P># 显示所有远程仓库
           $ git remote -v</P>
       <P># 显示某个远程仓库的信息
           $ git remote show [remote]</P>
       <P># 增加一个新的远程仓库，并命名
           $ git remote add [shortname] [url]</P>
       <P># 取回远程仓库的变化，并与本地分支合并
           $ git pull [remote] [branch]</P>
       <P># 上传本地指定分支到远程仓库
           $ git push [remote] [branch]</P>
       <P># 强行推送当前分支到远程仓库，即使有冲突
           $ git push [remote] --force</P>
       <P># 推送所有分支到远程仓库
           $ git push [remote] --all</P>

       <sstrong>九、撤销</sstrong>
       <p># 恢复暂存区的指定文件到工作区
           $ git checkout [file]</p>
       <p># 恢复某个commit的指定文件到暂存区和工作区
           $ git checkout [commit] [file]</p>
       <p># 恢复暂存区的所有文件到工作区
           $ git checkout .</p>
       <p># 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变
           $ git reset [file]</p>
       <p># 重置暂存区与工作区，与上一次commit保持一致
           $ git reset --hard</p>
       <p># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变
           $ git reset [commit]</p>
       <p># 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致
           $ git reset --hard [commit]</p>
       <p># 重置当前HEAD为指定commit，但保持暂存区和工作区不变
           $ git reset --keep [commit]</p>
       <p># 新建一个commit，用来撤销指定commit
           # 后者的所有变化都将被前者抵消，并且应用到当前分支
           $ git revert [commit]</p>
       <p># 暂时将未提交的变化移除，稍后再移入
           $ git stash
           $ git stash pop
       </p>

       <strong>十、其他</strong>
       <p># 生成一个可供发布的压缩包
           $ git archive</p>
   </div>

</body>
</html>